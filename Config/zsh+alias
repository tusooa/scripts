#!/bin/zsh --source

#alias -g rm='RemoveFile'
#alias ls='ls -h --color=always'
eval $(dircolors -b ~/.ls-colors)
alias ls='ls -h --color=always -X --time-style="+[33m[[32m%Y-%m-%d [35m%k:%M[33m][0m" --hide="*~"' #hide backupfiles
alias l='ls -l'
alias la='ls -A'
alias sed='sed -r'
#alias make=ColorMake
alias grep='egrep'
alias egrep="GREP_COLOR=\"\$(echo 3\$[\$(date +%N)%6+1]';1;4;40')\" egrep --color=always"
alias less='less -R'
alias df='df -Th'
alias du='du -h'
alias a=awk
alias s=sed
alias p=less
#alias g=grep
alias -g showip='curl ifconfig.me' # æ˜¾ç¤ºè®¡ç®—æœºå¤–ç½‘ip
#alias irssi=Irssi-Alias
alias dsame="awk '"'!a[$0]++'"'" # ç´¯æ­»äººã€‚
#alias gssh='ssh -2 -p443 tusooa@shell.cjb.net ; ssh -2D7070 -p443 tusooa@shell.cjb.net'
alias updateMail='fp -v <(gpg --decrypt ~/ä¸ªäºº/è´¦å·/mail.gpg) -f ~/.getmail/getmailrc.in -o ~/.getmail/getmailrc; fp -v <(gpg --decrypt ~/ä¸ªäºº/è´¦å·/mail.gpg) -f ~/.msmtprc.in -o ~/.msmtprc; chmod 600 ~/.getmail/getmailrc ~/.msmtprc'

# command prompt
alias \$=''
alias â—=''
alias â˜=''
alias ']'=''
alias 'tlcr:'=':' #è¿™ä¸€è¡Œéƒ½æ˜¯æç¤ºç¬¦.

# Aliases for todo and remind
alias t=todo
#alias t=todo.sh
#alias tc='todo.sh ls @code'
#tn() { todo.sh ls "$@" | 'egrep' -v 'maybe|wait' ;}
#tp() { todo.sh ls "$@" | 'egrep' 'maybe|wait' ;}
alias wt='remind -w$(tput cols) -c+lc2 ~/.reminders'

# åç¼€åˆ«å
alias -g A='|awk'
alias -g L='|less'
alias -g P='|perl'
alias -g G="|g"
alias -g S='|sed'
alias -g B='S "s@\x1B\[[0-9;]*[mK]@@g"'
alias -g D='|dsame'
alias -g NN="*(oc[1])" # zshé‡Œä»£è¡¨å½“å‰ç›®å½•ä¸‹æœ€åä¿®æ”¹çš„æ–‡ä»¶çš„alias http://roylez.heroku.com/2010/03/06/zsh-recent-file-alias.html
#å…¨éƒ¨å†å²çºªå½• topx
topx()
{
    history 0 | awk '{CMD[$2]++;count++;}END { for (a in CMD)print CMD[a] " " CMD[a]/count*100 "% " a;}' | grep -v "./" | column -c3 -s " " -t | sort -nr | nl | head -n "$1"
}

e()
{
    local NEWPATH="$(echo "$PATH" | sed -e 's@åº”ç”¨/è„šæœ¬@Apps/Scripts@g;s@å®‰è£…@Install@g;s@æ¸¸æˆ@Games@g;')"
    if [ "$*" ] ; then
        PATH="$NEWPATH" "$@"
    else
        echo english path: "$NEWPATH"
    fi
}

#[Esc][h] man å½“å‰å‘½ä»¤æ—¶ï¼Œæ˜¾ç¤ºç®€çŸ­è¯´æ˜ 
alias run-help >&/dev/null && unalias run-help
autoload run-help

# Screen Aliases
# è¿™äº›éƒ½è¢«emacså–ä»£...
if [ "$TERM" = screen ] ; then
    alias mutt='screen -t email mutt'
#    alias irssi='screen -t chat Irssi-Alias'
fi

#è¿›å…¥ç›¸åº”çš„è·¯å¾„æ—¶åªè¦ cd ~xxx
hash -d dw="$HOME/Download"
hash -d scripts="$HOME/Apps/bin"
hash -d apps="$HOME/Apps"
hash -d gcfg="$HOME/Apps/Config"
hash -d dsrc="$HOME/Download/Source"

function inList
{
    local var="$1" i
    shift
    for i in "$@" ; do
        if [[ "$var" = "$i" ]] ; then
            return 0
        fi
    done
    return 1
}

c()
{
    if [ "$*" ] ; then
        LC_ALL=C "$@"
    fi
}
